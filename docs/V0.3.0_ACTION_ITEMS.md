# v0.3.0 å‘å¸ƒä¿®å¤å¾…åŠæ¸…å•

**åˆ›å»ºæ—¶é—´**: 2026-02-02
**è´Ÿè´£äºº**: æŠ€æœ¯å›¢é˜Ÿ
**ç›®æ ‡**: å®Œæˆv0.3.0æ­£å¼å‘å¸ƒ

---

## ğŸš¨ P0 - é˜»å¡å‘å¸ƒï¼ˆå¿…é¡»ç«‹å³å®Œæˆï¼‰

### 1. å‘å¸ƒGitHub Release â±ï¸ 30åˆ†é’Ÿ
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: DevOps/å‘å¸ƒç»ç†
**æˆªæ­¢**: ä»Šå¤©ï¼ˆ2026-02-02ï¼‰

```bash
# æ­¥éª¤1: éªŒè¯Gitæ ‡ç­¾å­˜åœ¨
git tag -l "v0.3.0"

# æ­¥éª¤2: åˆ›å»ºGitHub Release
gh release create v0.3.0 \
  --title "v0.3.0 - Persistence Layer and Enterprise Preview" \
  --notes-file RELEASE_NOTES_v0.3.0.md \
  --latest

# æ­¥éª¤3: éªŒè¯å‘å¸ƒæˆåŠŸ
gh release view v0.3.0

# æ­¥éª¤4: åœ¨READMEä¸­æ·»åŠ å¾½ç« 
# æ›´æ–°ç‰ˆæœ¬å¾½ç« URLä¸ºv0.3.0
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] https://github.com/Henghenggao/yigcore-sentinel/releases/tag/v0.3.0 å¯è®¿é—®
- [ ] Release Noteså®Œæ•´æ˜¾ç¤º
- [ ] æ ‡è®°ä¸º"Latest Release"

---

### 2. ä¿®å¤æµ‹è¯•å¥—ä»¶ â±ï¸ 2å°æ—¶
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: æµ‹è¯•å·¥ç¨‹å¸ˆ
**æˆªæ­¢**: ä»Šå¤©ï¼ˆ2026-02-02ï¼‰

**é—®é¢˜è¯Šæ–­**:
```bash
# æ­¥éª¤1: æ£€æŸ¥æµ‹è¯•æ–‡ä»¶å†…å®¹
cat src/__tests__/budget_guard.test.ts
cat src/__tests__/policy_lite.test.ts
cat src/__tests__/rate_limiter.test.ts

# æ­¥éª¤2: æ£€æŸ¥æ˜¯å¦æœ‰vitesté…ç½®
ls vitest.config.ts vitest.config.js

# æ­¥éª¤3: å°è¯•è¿è¡Œå•ä¸ªæµ‹è¯•
npx vitest run src/__tests__/budget_guard.test.ts --reporter=verbose
```

**å¯èƒ½çš„ä¿®å¤æ–¹æ¡ˆ**:

**æ–¹æ¡ˆA**: æµ‹è¯•æ–‡ä»¶ä¸ºç©º
```typescript
// src/__tests__/budget_guard.test.ts
import { describe, it, expect } from 'vitest';
import { BudgetGuard } from '../budget_guard';

describe('BudgetGuard', () => {
  it('should initialize with default budget', () => {
    const guard = new BudgetGuard(10.0);
    expect(guard).toBeDefined();
  });

  // æ›´å¤šæµ‹è¯•...
});
```

**æ–¹æ¡ˆB**: ç¼ºå°‘vitesté…ç½®
```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    globals: true,
    environment: 'node',
  },
});
```

**æ–¹æ¡ˆC**: TypeScriptç¼–è¯‘é—®é¢˜
```bash
# é‡æ–°å®‰è£…ä¾èµ–
npm ci
npm run build

# æ¸…é™¤ç¼“å­˜
rm -rf node_modules/.vite
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] `npm run test` è‡³å°‘é€šè¿‡10ä¸ªæµ‹è¯•
- [ ] æ— "No test suite found"é”™è¯¯
- [ ] æµ‹è¯•è¦†ç›–æ ¸å¿ƒæ¨¡å—ï¼ˆBudgetGuard, PolicyEngine, RateLimiterï¼‰

---

## ğŸ”¥ P1 - é«˜ä¼˜å…ˆçº§ï¼ˆ1å‘¨å†…ï¼‰

### 3. åˆ›å»ºCHANGELOG.md â±ï¸ 1å°æ—¶
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: æŠ€æœ¯æ–‡æ¡£
**æˆªæ­¢**: 2026-02-04

**æ¨¡æ¿**:
```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [0.3.0] - 2026-02-02

### Added
- **Persistence Layer**: SQLite audit store for long-term audit log retention
- **Budget Persistence**: JSON file-based budget state storage (`budget.json`)
- **Enterprise Preview**: New "Enterprise" tab in Dashboard showcasing Yigcore Core features
- **Graceful Shutdown**: Enhanced shutdown handling with data flush guarantees
- **Lead Generation**: Email collection form in Enterprise tab

### Changed
- **AuditLogger Refactor**: Now supports pluggable storage backends (AuditStore interface)
- **Server Reliability**: Improved error handling and uncaught exception management
- **Dashboard Architecture**: React components reorganized for Enterprise tab

### Fixed
- **Windows Build**: Better support for `better-sqlite3` on Windows environments
- **Dashboard Build**: Fixed Vite build errors in multi-stage Docker

### Security
- No vulnerabilities introduced
- All dependencies up-to-date

## [0.2.0] - 2026-02-02

### Added
- Web Dashboard with real-time monitoring
- Docker and docker-compose support
- CLI tool with daemon mode
- Health check endpoints
- Production deployment guides

### Changed
- Server now serves static dashboard at `/dashboard/`
- Enhanced `/health` endpoint with dashboard availability flag

## [0.1.0] - 2026-01-XX

### Added
- Initial release
- Budget Guard
- Policy Engine (rule-based)
- Rate Limiter (token bucket)
- Audit Logger (in-memory)
- Python SDK
- HTTP REST API

[Unreleased]: https://github.com/Henghenggao/yigcore-sentinel/compare/v0.3.0...HEAD
[0.3.0]: https://github.com/Henghenggao/yigcore-sentinel/compare/v0.2.0...v0.3.0
[0.2.0]: https://github.com/Henghenggao/yigcore-sentinel/compare/v0.1.0...v0.2.0
[0.1.0]: https://github.com/Henghenggao/yigcore-sentinel/releases/tag/v0.1.0
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] CHANGELOG.mdå­˜åœ¨äºé¡¹ç›®æ ¹ç›®å½•
- [ ] åŒ…å«v0.1.0, v0.2.0, v0.3.0çš„å˜æ›´
- [ ] éµå¾ªKeep a Changelogæ ¼å¼

---

### 4. è¿è¡Œå®‰å…¨å®¡è®¡ â±ï¸ 30åˆ†é’Ÿ
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: DevOps
**æˆªæ­¢**: 2026-02-04

```bash
# æ­¥éª¤1: ä¾èµ–æ¼æ´æ‰«æ
npm audit

# æ­¥éª¤2: è‡ªåŠ¨ä¿®å¤ï¼ˆå¦‚æœå¯èƒ½ï¼‰
npm audit fix

# æ­¥éª¤3: æ£€æŸ¥è¿‡æ—¶ä¾èµ–
npm outdated

# æ­¥éª¤4: è®°å½•ç»“æœ
npm audit --json > security_audit_2026-02-02.json

# æ­¥éª¤5: æ£€æŸ¥dashboardä¾èµ–
cd dashboard
npm audit
cd ..
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ— é«˜å±ï¼ˆHighï¼‰æˆ–ä¸¥é‡ï¼ˆCriticalï¼‰æ¼æ´
- [ ] ç”Ÿæˆå®¡è®¡æŠ¥å‘Š
- [ ] è®°å½•ä¿®å¤æ–¹æ¡ˆï¼ˆå¦‚æœ‰ï¼‰

---

### 5. æ›´æ–°README Roadmap â±ï¸ 15åˆ†é’Ÿ
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: æŠ€æœ¯æ–‡æ¡£
**æˆªæ­¢**: 2026-02-04

**å½“å‰ï¼ˆç¬¬298-303è¡Œï¼‰**:
```markdown
- [x] **v0.2.0** - Web dashboard for real-time monitoring âœ¨
- [x] **v0.2.0** - Docker & docker-compose support âœ¨
- [x] **v0.2.0** - CLI tool with daemon mode âœ¨
- [ ] **Future** - Persistent storage, additional SDKs, and more
```

**ä¿®æ”¹ä¸º**:
```markdown
- [x] **v0.2.0** - Web dashboard for real-time monitoring âœ¨
- [x] **v0.2.0** - Docker & docker-compose support âœ¨
- [x] **v0.2.0** - CLI tool with daemon mode âœ¨
- [x] **v0.3.0** - Persistence Layer (SQLite + File) âœ¨
- [x] **v0.3.0** - Enterprise Preview Dashboard âœ¨
- [ ] **v0.4.0** - JavaScript/TypeScript SDK (Planned Q1 2026)
- [ ] **v0.5.0** - LLM-based Policy Engine (Planned Q2 2026)
- [ ] **Future** - Multi-language SDKs, HA deployment, and more
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] README.mdæ›´æ–°
- [ ] æäº¤åˆ°Git

---

## âš ï¸ P2 - ä¸­ä¼˜å…ˆçº§ï¼ˆ2å‘¨å†…ï¼‰

### 6. æ·»åŠ "When to Upgrade"æ–‡æ¡£ç« èŠ‚ â±ï¸ 2å°æ—¶
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: äº§å“/æŠ€æœ¯æ–‡æ¡£
**æˆªæ­¢**: 2026-02-09

**ä½ç½®**: README.mdä¸­æ–°å¢ç« èŠ‚ï¼ˆåœ¨"Use Cases"ä¹‹åï¼‰

**å†…å®¹å¤§çº²**:
```markdown
## ğŸš€ When to Upgrade to Yigcore Core

Sentinel is perfect for getting started, but if you need advanced capabilities, consider **Yigcore Core**:

| Your Need | Sentinel | Yigcore Core |
|-----------|----------|--------------|
| Single agent governance | âœ… Perfect fit | âš¡ Overkill |
| 2-3 agents | âœ… Supported | âš¡ Better performance |
| **3+ agents** | âš ï¸ Limited | âœ… **Unlimited** |
| Multi-agent orchestration | âŒ Not supported | âœ… **DAG workflows** |
| LLM cost optimization | âŒ Manual | âœ… **Bandit Router (-20% cost)** |
| Enterprise security (SSO, RBAC) | âŒ Basic | âœ… **SOC2 compliant** |
| Distributed deployment | âŒ Single instance | âœ… **HA clusters** |

### Real-World Upgrade Scenarios

**Scenario 1: You have 5+ AI agents**
- Sentinel: Manual budget allocation, no coordination
- Core: Shared budget pools, conflict resolution, unified dashboard

**Scenario 2: Monthly LLM bill > $1000**
- Sentinel: Fixed routing, no optimization
- Core: Bandit Router saves 15-25% automatically

**Scenario 3: Enterprise compliance requirements**
- Sentinel: No SSO, basic audit logs
- Core: SAML/OIDC, RBAC, encrypted audit trails

### Try Yigcore Core

ğŸ‘‰ [Request a demo](https://yigcore.ai/contact) or explore the [Enterprise tab](/dashboard/#/enterprise) in your Dashboard.
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç« èŠ‚æ·»åŠ åˆ°README
- [ ] é“¾æ¥åˆ°Enterprise tabæ­£å¸¸å·¥ä½œ
- [ ] ä¸INTERNAL_ROADMAPä¸­çš„å¼•æµç­–ç•¥å¯¹é½

---

### 7. é›†æˆGoogle Analytics â±ï¸ 1å°æ—¶
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: å‰ç«¯å·¥ç¨‹å¸ˆ
**æˆªæ­¢**: 2026-02-09

**ç›®æ ‡**: è¿½è¸ªEnterprise Tabçš„è½¬åŒ–ç‡

**å®ç°æ­¥éª¤**:
```typescript
// dashboard/src/components/EnterpriseTab.tsx

import ReactGA from 'react-ga4';

// åˆå§‹åŒ–ï¼ˆåœ¨App.tsxæˆ–main.tsxï¼‰
ReactGA.initialize('G-XXXXXXXXXX'); // æ›¿æ¢ä¸ºå®é™…çš„GA4 ID

// åœ¨EnterpriseTabä¸­è¿½è¸ªäº‹ä»¶
const handleSubmit = (e: React.FormEvent) => {
  e.preventDefault();

  // è¿½è¸ªæäº¤äº‹ä»¶
  ReactGA.event({
    category: 'Enterprise',
    action: 'Request Demo',
    label: email,
  });

  // ... åŸæœ‰é€»è¾‘
};

// è¿½è¸ªtabåˆ‡æ¢
useEffect(() => {
  ReactGA.send({ hitType: 'pageview', page: '/dashboard/enterprise' });
}, []);
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] GA4å±æ€§åˆ›å»º
- [ ] äº‹ä»¶æ­£å¸¸å‘é€
- [ ] å¯åœ¨GA4æ§åˆ¶å°çœ‹åˆ°äº‹ä»¶

---

### 8. åç«¯é‚®ç®±æ”¶é›†API â±ï¸ 3å°æ—¶
**çŠ¶æ€**: âŒ æœªå¼€å§‹
**è´Ÿè´£äºº**: åç«¯å·¥ç¨‹å¸ˆ
**æˆªæ­¢**: 2026-02-09

**ç›®æ ‡**: æ›¿æ¢mailtoé“¾æ¥ï¼Œå°†é‚®ç®±å­˜å…¥æ•°æ®åº“

**APIè®¾è®¡**:
```typescript
// src/routes/enterprise.ts
import { FastifyInstance } from 'fastify';
import { z } from 'zod';

const ContactSchema = z.object({
  email: z.string().email(),
  interest: z.string().optional(),
  timestamp: z.number().optional(),
});

export async function enterpriseRoutes(fastify: FastifyInstance) {
  fastify.post('/enterprise/contact', async (request, reply) => {
    const { email, interest } = ContactSchema.parse(request.body);

    // å­˜å…¥SQLite
    const stmt = db.prepare(`
      INSERT INTO enterprise_contacts (email, interest, timestamp, source)
      VALUES (?, ?, ?, ?)
    `);
    stmt.run(email, interest || 'demo_request', Date.now(), 'dashboard');

    // å¯é€‰ï¼šå‘é€é€šçŸ¥åˆ°Slack/é‚®ä»¶
    // await notifySlack(`New demo request: ${email}`);

    return { success: true, message: 'Thank you! We will contact you soon.' };
  });

  // æŸ¥è¯¢APIï¼ˆä»…ç®¡ç†å‘˜ï¼‰
  fastify.get('/enterprise/contacts', async (request, reply) => {
    // TODO: æ·»åŠ é‰´æƒ
    const contacts = db.prepare('SELECT * FROM enterprise_contacts ORDER BY timestamp DESC').all();
    return { contacts };
  });
}
```

**æ•°æ®åº“Schema**:
```sql
CREATE TABLE IF NOT EXISTS enterprise_contacts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  email TEXT NOT NULL,
  interest TEXT,
  timestamp INTEGER NOT NULL,
  source TEXT, -- 'dashboard', 'website', 'cli'
  status TEXT DEFAULT 'pending' -- 'pending', 'contacted', 'converted'
);

CREATE INDEX idx_timestamp ON enterprise_contacts(timestamp DESC);
CREATE INDEX idx_status ON enterprise_contacts(status);
```

**å‰ç«¯ä¿®æ”¹**:
```typescript
// dashboard/src/components/EnterpriseTab.tsx
const handleSubmit = async (e: React.FormEvent) => {
  e.preventDefault();

  try {
    const response = await fetch('/enterprise/contact', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, interest: 'demo_request' }),
    });

    if (response.ok) {
      setSubmitted(true);
    }
  } catch (error) {
    console.error('Failed to submit:', error);
  }
};
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] APIæ­£å¸¸å·¥ä½œ
- [ ] é‚®ç®±å­˜å…¥æ•°æ®åº“
- [ ] Dashboardæäº¤æˆåŠŸ

---

## ğŸ“‹ P3 - ä½ä¼˜å…ˆçº§ï¼ˆæœ‰æ—¶é—´å†åšï¼‰

### 9. è¡¥å……E2Eæµ‹è¯•ç»“æœ
- è¿è¡Œ`tests/verify_persistence.ts`
- è®°å½•æµ‹è¯•è¾“å‡ºåˆ°æ–‡æ¡£

### 10. Docker Hubé•œåƒå‘å¸ƒ
```bash
docker build -t yigcore/sentinel:0.3.0 .
docker push yigcore/sentinel:0.3.0
docker tag yigcore/sentinel:0.3.0 yigcore/sentinel:latest
docker push yigcore/sentinel:latest
```

### 11. npmåŒ…å‘å¸ƒï¼ˆå¦‚æœè®¡åˆ’ï¼‰
```bash
npm login
npm publish --access public
```

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | çŠ¶æ€ | å®Œæˆæ—¥æœŸ |
|------|--------|------|---------|
| GitHub Release | P0 | âŒ å¾…åŠ | - |
| ä¿®å¤æµ‹è¯•å¥—ä»¶ | P0 | âŒ å¾…åŠ | - |
| CHANGELOG.md | P1 | âŒ å¾…åŠ | - |
| å®‰å…¨å®¡è®¡ | P1 | âŒ å¾…åŠ | - |
| æ›´æ–°Roadmap | P1 | âŒ å¾…åŠ | - |
| "When to Upgrade"æ–‡æ¡£ | P2 | âŒ å¾…åŠ | - |
| Google Analytics | P2 | âŒ å¾…åŠ | - |
| åç«¯é‚®ç®±API | P2 | âŒ å¾…åŠ | - |

**æ›´æ–°æ­¤è¡¨æ ¼**: å®Œæˆä»»åŠ¡åå°†çŠ¶æ€æ”¹ä¸ºâœ…å¹¶å¡«å†™å®Œæˆæ—¥æœŸ

---

## ğŸš¦ å‘å¸ƒå†³ç­–

**å¯ä»¥å‘å¸ƒv0.3.0çš„æ¡ä»¶**:
- âœ… P0ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼ˆGitHub Release + æµ‹è¯•ä¿®å¤ï¼‰
- âš ï¸ P1ä»»åŠ¡è‡³å°‘å®Œæˆ2/3
- â„¹ï¸ P2ä»»åŠ¡ä¸é˜»å¡å‘å¸ƒ

**å‘å¸ƒåç»­å·¥ä½œ**:
1. ç›‘æ§GitHub Starå¢é•¿
2. æ”¶é›†Enterprise Tabç‚¹å‡»æ•°æ®
3. å‡†å¤‡v0.4.0 Milestone

---

**å¾…åŠæ¸…å•åˆ›å»ºæ—¶é—´**: 2026-02-02
**æœ€åæ›´æ–°**: -
